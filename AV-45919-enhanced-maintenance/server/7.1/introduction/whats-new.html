<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>What&#8217;s New in Version 7.1? | Couchbase Capella Staging Docs</title>
<link rel="canonical" href="https://docs.stage.nonprod-project-avengers.com/server/7.1/introduction/whats-new.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Couchbase is the modern database for enterprise applications. Couchbase Server 7.1 combines the strengths of relational databases with the flexibility, performance, and scale of Couchbase.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.1">
<meta name="page-url" content="/server/7.1/introduction/whats-new.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.stage.nonprod-project-avengers.com/cloud/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.stage.nonprod-project-avengers.com/cloud/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/hakimcassimally/couchbase/docs-server/modules/introduction/pages/whats-new.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="intro.html">Couchbase Server</a></li>
<li class="crumb">Introduction</li>
<li class="crumb"><a href="whats-new.html">What&#8217;s New?</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">What&#8217;s New in Version 7.1?</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
Couchbase is the modern database for enterprise applications. Couchbase Server 7.1 combines the strengths of relational databases with the flexibility, performance, and scale of Couchbase.
</blockquote>
</div>
<div class="paragraph">
<p>For information about platform support changes, deprecation notifications, notable improvements, and fixed and known issues, refer to the <a href="../release-notes/relnotes.html" class="xref page">Release Notes</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="new-features"><a class="anchor" href="#new-features"></a>New Features and Enhancements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the new features and enhancements in this release.
See also <a href="#features-added-in-712">Features Added in 7.1.2</a>, below.</p>
</div>
<div class="sect2">
<h3 id="analytics-service-high-availability"><a class="anchor" href="#analytics-service-high-availability"></a>Analytics Service: High Availability</h3>
<div class="paragraph">
<p>Prior to Couchbase Server Version 7.1, Analytics Service data was not replicated.
This meant that when an Analytics node failed over, the Analytics Service stopped working cluster-wide.
If the failed-over Analytics node was then recovered, data ingestion had to begin again from scratch.</p>
</div>
<div class="paragraph">
<p>Analytics shadow data may now be replicated up to 3 times.
When replicas exist, and an Analytics node fails over, the Analytics Service continues to work: one of the replicas is promoted to serve the shadow data stored on the failed over node.
If the failed-over Analytics node is then recovered, the shadow data on the recovered node is updated from the promoted replica.</p>
</div>
<div class="paragraph">
<p>Analytics replicas can be managed using the user interface, the <code>setting-analytics</code> command line tool, or the Analytics Settings REST API.
For further details, refer to <a href="../manage/manage-settings/general-settings.html" class="xref page">General Settings</a>.</p>
</div>
<div class="paragraph">
<p>Analytics replicas can also be monitored using the Analytics Cluster Status REST API.
Refer to <a href="#analytics:rest-admin.adoc#cluster-status" class="xref unresolved">Cluster Status</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="analytics-service-analytics-views-and-tabular-analytics-views"><a class="anchor" href="#analytics-service-analytics-views-and-tabular-analytics-views"></a>Analytics Service: Analytics Views and Tabular Analytics Views</h3>
<div class="paragraph">
<p>Analytics now supports <em>Analytics views</em>, which are virtual Analytics collections derived from actual stored Analytics collections.
Analytics views might be used to present a subset of the stored data, or to present a join or other transformation of stored data for some particular purpose.
Queries may operate on Analytics views in exactly the same way as they do on real stored data.</p>
</div>
<div class="paragraph">
<p>Analytics also supports <em>tabular Analytics views</em>, a type of view that presents data in the form of a table with uniform rows and columns and with a well-defined schema.
Tabular views enable Analytics to interact with software tools that are designed for relational databases, such as <a href="https://www.tableau.com" target="_blank" rel="noopener">Tableau</a>.</p>
</div>
<div class="paragraph">
<p>For further details on Analytics views and tabular Analytics views, refer to <a href="#analytics:5a_views.adoc" class="xref unresolved">analytics:5a_views.adoc</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="tableau-connector"><a class="anchor" href="#tableau-connector"></a>Tableau Connector</h3>
<div class="paragraph">
<p>The new Tableau Connector provides integration between Couchbase Analytics tabular views and the Tableau interactive data visualization platform.
Refer to <a href="#tableau-connector::index.adoc" class="xref unresolved">tableau-connector::index.adoc</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="analytics-service-external-datasets-on-azure-blob-storage"><a class="anchor" href="#analytics-service-external-datasets-on-azure-blob-storage"></a>Analytics Service: External Datasets on Azure Blob Storage</h3>
<div class="paragraph">
<p>The Analytics Service now supports external datasets on Azure Blob storage.
These may be managed using the UI or the Analytics Links REST API.
Refer to <a href="#analytics:manage-links.adoc" class="xref unresolved">analytics:manage-links.adoc</a> and <a href="#analytics:rest-links.adoc" class="xref unresolved">analytics:rest-links.adoc</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="analytics-service-array-indexes"><a class="anchor" href="#analytics-service-array-indexes"></a>Analytics Service: Array Indexes</h3>
<div class="paragraph">
<p>Analytics now provides <em>array indexes</em>, which enable you to index values within an array, or fields within an object nested in an array.
In Analytics, array indexes are not meant to serve as covering indexes.
Instead, array indexes are simply meant to accelerate queries involving multi-valued fields.
For further details, refer to <a href="#analytics:7_using_index.adoc" class="xref unresolved">analytics:7_using_index.adoc</a>.</p>
</div>
<div class="paragraph">
<p>The data definition language has been extended to support the creating and dropping of array indexes.
Refer to <a href="#analytics:5_ddl.adoc" class="xref unresolved">analytics:5_ddl.adoc</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="query-service-join-enumeration"><a class="anchor" href="#query-service-join-enumeration"></a>Query Service: Join Enumeration</h3>
<div class="paragraph">
<p>Prior to Couchbase Server Version 7.1, the cost-based optimizer was unable to rewrite queries to use the optimal join order.
Joins were performed in the order in which they are specified in the query, and no reordering of joins was considered.</p>
</div>
<div class="paragraph">
<p>The cost-based optimizer may now consider different join orders, and can choose the optimal join order based on cost information.
This is the default behavior when the cost-based optimizer is active and the optimizer statistics are up-to-date.
Refer to <a href="../n1ql/n1ql-language-reference/cost-based-optimizer.html" class="xref page">Cost-Based Optimizer</a>.</p>
</div>
<div class="paragraph">
<p>You can use an optimizer hint, if required, to over-ride the cost-based optimizer and specify that the query should use the join order as written.
Refer to <a href="../n1ql/n1ql-language-reference/query-hints.html" class="xref page">Query Block Hints</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="query-service-optimizer-hints"><a class="anchor" href="#query-service-optimizer-hints"></a>Query Service: Optimizer Hints</h3>
<div class="paragraph">
<p>You can now include optimizer hints within queries to supply directives to the optimizer.
Optimizer hints request that the optimizer should consider specific indexes, join methods, join ordering, and so on, when creating the plan for a query.
This may be useful in situations where the optimizer is not able to come up with the preferred plan, due to lack of optimizer statistics, high level of skew in data, data correlations, and so on.</p>
</div>
<div class="paragraph">
<p>You can supply hints to the operator within a specially-formatted hint comment, similar to the type of hint comment found in many relational databases.
Many optimizer hints have legacy equivalents using the USE clause.
For further details, refer to <a href="../n1ql/n1ql-language-reference/optimizer-hints.html" class="xref page">Optimizer Hints</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="multiple-root-certificates"><a class="anchor" href="#multiple-root-certificates"></a>Multiple Root Certificates</h3>
<div class="paragraph">
<p>Prior to Couchbase Server Version 7.1, a Couchbase-Server cluster could maintain at most <em>one</em> root certificate: all nodes and all clients were obliged to rely on this certificate&#8217;s authority.
From version 7.1, Couchbase Server permits multiple root certificates to be maintained in a <em>trust store</em> for the cluster.
This allows an individual node either to use a CA that is also used by one or more other nodes; or to use a CA that is used by no other node.
This procedure may be used during CA certificate rotation: a new CA is uploaded, node certificates are changed one by one, and finally, the old CA is removed.</p>
</div>
<div class="paragraph">
<p>Couchbase Server additionally uses its list of trusted certificates to verify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Client certificates (when client certificate authentication is enabled).</p>
</li>
<li>
<p>The identities of cluster nodes (when node-to-node encryption is enabled).</p>
</li>
<li>
<p>The identities of nodes that join the cluster (when the server has been provisioned with certificates).</p>
</li>
<li>
<p>The identity of LDAP servers (when TLS has been turned on, in the LDAP settings).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see <a href="../learn/security/using-multiple-cas.html" class="xref page">Using Multiple Root Certificates</a>.</p>
</div>
<div class="paragraph">
<p>Note that prior to Couchbase Server Version 7.1, node-to-node encryption, which is managed by means of the Couchbase CLI, needed to be <em>disabled</em> before management of either <em>root</em> or <em>intermediate</em> certificates could be performed.
This restriction is lifted in version 7.1: therefore, root and intermediate certificates <em>can</em> now be managed while node-to-node encryption is enabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="eventing-service-full-role-based-access-control-rbac-support"><a class="anchor" href="#eventing-service-full-role-based-access-control-rbac-support"></a>Eventing Service: Full Role-Based Access Control (RBAC) support</h3>
<div class="paragraph">
<p>Prior to Couchbase Server Version 7.1, running Functions under the Eventing Service required admin permissions of either "Full Admin" or "Full Eventing Admin".</p>
</div>
<div class="paragraph">
<p>This limiting restriction is lifted in version 7.1.  Now any user can securely create or manage Eventing Functions provided they have proper RBAC permissions configured.</p>
</div>
</div>
<div class="sect2">
<h3 id="encrypted-private-keys"><a class="anchor" href="#encrypted-private-keys"></a>Encrypted Private Keys</h3>
<div class="paragraph">
<p>Use of encrypted private keys is now supported for certificate management.</p>
</div>
<div class="paragraph">
<p>In version 7.1, Couchbase Server supports <em>PKCS #1</em> and <em>PKCS #8</em> &#8212; in each case, only for use with private keys:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>PKCS #1</em> can be used for <em>unencrypted</em> private keys only.</p>
</li>
<li>
<p><em>PKCS #8</em> can be used for both <em>unencrypted</em> and <em>encrypted</em> private keys: note that the user-specified <code>EncryptedPrivateKeyInfo</code> must use <em>PKCS #5 v2</em> algorithms.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a node-certificate to be loaded is associated with an encrypted private key, a procedure can be defined to allow Couchbase Server to access and use the key’s passphrase, when use of the key is required: the passphrase can be registered by means of a JSON object.
For information, see <a href="../rest-api/upload-retrieve-node-cert.html#json-passphrase-registration" class="xref page">JSON Passphrase Registration</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="system-events"><a class="anchor" href="#system-events"></a>System Events</h3>
<div class="paragraph">
<p><em>System events</em> are generated to record significant occurrences on the cluster.
Events are provided for the Cluster Manager, the Data Service, the Index Service, the Search Service, the Eventing Service, the Backup Service, and the Analytics Service.
Events are also generated for XDCR, security, and Views.</p>
</div>
<div class="paragraph">
<p>Each event is provided as a JSON document containing a number of key-value pairs: some key-value pairs are included in all system events, others are specific to the service for which the event is generated.
Each key-value pair provides definitive information on the event.</p>
</div>
<div class="paragraph">
<p>For detailed information, see <a href="../learn/clusters-and-availability/system-events.html" class="xref page">System Events</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="sync-gateway-roles"><a class="anchor" href="#sync-gateway-roles"></a>Sync Gateway Roles</h3>
<div class="paragraph">
<p>New roles are provided for the administration of <em>Sync Gateway</em>, especially in the context of Couchbase Capella.
These roles are listed at <a href="../learn/security/roles.html" class="xref page">Roles</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="tls"><a class="anchor" href="#tls"></a>TLS</h3>
<div class="paragraph">
<p>TLS 1.3 cipher-suites can now be used by all services; and by the Cluster Manager, XDCR, and Views.
For information, see <a href="../learn/security/on-the-wire-security.html#tls-3-cipher-suite-limitations" class="xref page">On the Wire Security</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="xdcr"><a class="anchor" href="#xdcr"></a>XDCR</h3>
<div class="paragraph">
<p>XDCR checkpointing is now entirely persistent through topology-changes on the source cluster.
This provides improved performance when failover and rebalance occur on the source cluster.</p>
</div>
</div>
<div class="sect2">
<h3 id="arm-support"><a class="anchor" href="#arm-support"></a>ARM Support</h3>
<div class="paragraph">
<p>Amazon Linux is now supported on the ARM platform.
See <a href="../release-notes/relnotes.html" class="xref page">Release Notes for Couchbase Server 7.1</a> and <a href="../install/install-platforms.html" class="xref page">Supported Platforms</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="magma-storage-engine"><a class="anchor" href="#magma-storage-engine"></a>Magma Storage Engine</h3>
<div class="paragraph">
<p><span class="edition"><a href="https://www.couchbase.com/products/editions">ENTERPRISE EDITION</a></span></p>
</div>
<div class="paragraph">
<p>The new Magma Storage Engine has been added to 7.1 as an Enterprise Edition feature, allowing for higher performance with very large datasets.
Magma is a disk-based engine, so is highly suited to datasets that will not fit in available memory.
You can find more details on Magma in <a href="../learn/buckets-memory-and-storage/storage-engines.html" class="xref page">Storage Engines</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="plasma-storage-engine"><a class="anchor" href="#plasma-storage-engine"></a>Plasma Storage Engine</h3>
<div class="paragraph">
<p>The Plasma Storage Engine has been enhanced, with <em>per page Bloom filters</em> and <em>in-memory compression</em>.
For information, see <a href="../learn/services-and-indexes/indexes/storage-modes.html#plasma-memory-enhancements" class="xref page">Plasma Memory Enhancements</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="improved-auto-failover"><a class="anchor" href="#improved-auto-failover"></a>Improved Auto-Failover</h3>
<div class="paragraph">
<p>Automatic Failover can now fail several nodes over concurrently; additionally, automatic failover of index services is supported.
Improvements have also been made to rebalancing algorithms, so that active buckets, services, and replicas will be spread across different server groups, even when server groups are unequal.</p>
</div>
<div class="paragraph">
<p>See <a href="../learn/clusters-and-availability/automatic-failover.html" class="xref page">Automatic Failover</a> and <a href="../learn/clusters-and-availability/groups.html" class="xref page">Server Group Awareness</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="improvements-to-javascript-user-defined-functions"><a class="anchor" href="#improvements-to-javascript-user-defined-functions"></a>Improvements to JavaScript User-Defined Functions</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Scope Hierarchy Support</dt>
<dd>
<p>The JavaScript libraries can now be stored within collection scopes, allowing access to be restricted to users with the necessary security permissions.
For more information, see the section on <a href="../javascript-udfs/javascript-functions-with-couchbase.html#libraries-and-scopes" class="xref page">libraries and scopes</a> in <a href="../javascript-udfs/javascript-functions-with-couchbase.html" class="xref page">JavaScript Functions with Couchbase</a>.</p>
</dd>
<dt class="hdlist1">N1QL Support</dt>
<dd>
<p>JavaScript functions can run N1QL statements using either a function call (<code>N1QL(…)</code>) or by embedding the N1QL statement directly in the JavaScript code.
See <a href="../javascript-udfs/calling-n1ql-from-javascript.html" class="xref page">Calling N1QL from JavaScript</a> for more information.</p>
</dd>
<dt class="hdlist1">UI Support</dt>
<dd>
<p>Javascript libraries and functions can now be added through the Query tool in the administration console.
For more details, see the <a href="../tools/udfs-ui.html" class="xref page">User-Defined Functions UI</a> page.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="improvements-to-full-text-search"><a class="anchor" href="#improvements-to-full-text-search"></a>Improvements to Full-Text Search</h3>
<div class="paragraph">
<p>A number of improvements have been made to Full-Text Search:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Croatian Language Support</dt>
<dd>
<p>The FTS engine now supports the Croatian language for search-term input.</p>
</dd>
<dt class="hdlist1">Improved Search in the UI</dt>
<dd>
<p>The FTS UI will now accept complex full text search terms as well as basic search strings.</p>
</dd>
<dt class="hdlist1">File-Based Rebalance in FTS</dt>
<dd>
<p>Prior to version&#160;7.1, FTS index partitions were rebuilt from scratch on each node during rebalance operations.
Under version&#160;7.1, the index partition files are copied to the nodes, allowing for faster rebalancing.
File-based rebalancing can be enabled and disabled through a REST-API call described in the <a href="../fts/fts-advanced-settings-disable-file-transfer-rebalance.html" class="xref page">Disable File Transfer Balance API call</a> document.</p>
</dd>
<dt class="hdlist1">Increase in the Number of Full-Text Indexes Supported</dt>
<dd>
<p>FTS now supports up to 500 index partitions per cluster.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="index-service-enhancements"><a class="anchor" href="#index-service-enhancements"></a>Index Service Enhancements</h3>
<div class="paragraph">
<p>The Index Service now provides:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Smart Batching</dt>
<dd>
<p>Allows the rebuilding of indexes, during rebalance, to be maintained at an optimal performance-level.
For information, see <a href="../learn/clusters-and-availability/rebalance.html#smart-batching" class="xref page">Smart Batching</a>.</p>
</dd>
<dt class="hdlist1">Array Flattening</dt>
<dd>
<p>Whereby the elements of arrays can be more efficiently indexed.
See <a href="../n1ql/n1ql-language-reference/indexing-arrays.html#query-predicate-format" class="xref page">Format of Query Predicate</a>.</p>
</dd>
<dt class="hdlist1">Indexing documents with Missing Key Fields</dt>
<dd>
<p>Prior to version 7.1.2, documents that did not hold a field given as part of an index definition where not included in index.<br>
Couchbase 7.1.2&#43; will include these documents if the optional <code>INCLUDE MISSING</code> clause is used when the index is defined.<br>
See the <a href="../guides/create-index.html#indexes-for-missing-leading-key" class="xref page">Creating Indexes guide</a> for more information.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="backuprecovery-enhancements"><a class="anchor" href="#backuprecovery-enhancements"></a>Backup/Recovery Enhancements</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Direct Backup to Google Cloud Platform (GCP) Cloud Storage</dt>
<dd>
<p>The cbbackupmr CLI and the Backup Service now supports direct backup to GCP cloud storage.
See <a href="#backup-restore:cbbackupmgr-cloud.adoc" class="xref unresolved">backup-restore:cbbackupmgr-cloud.adoc</a>.</p>
</dd>
<dt class="hdlist1">Resume option for cbbackupmgr restore</dt>
<dd>
<p>The --resume option for cbbackupmgr restore allows you to resume a restore that has failed due to a temporary environmental issue.
See <a href="#backup-restore:cbbackupmgr-restore.adoc" class="xref unresolved">backup-restore:cbbackupmgr-restore.adoc</a>.</p>
</dd>
<dt class="hdlist1">[Developer Preview] Direct Backup to Azure Blob Containers</dt>
<dd>
<p>The cbbackupmgr CLI direct backup to Azure blob containers is available for Developer Preview in 7.1.
See <a href="#backup-restore:cbbackupmgr-cloud.adoc" class="xref unresolved">backup-restore:cbbackupmgr-cloud.adoc</a>.</p>
</dd>
<dt class="hdlist1">[Developer Preview] Encrypted Backups</dt>
<dd>
<p>Encrypted backups is available for Developer Preview in 7.1 with both cbbackupmgr CLI and the Backup Service.
See <a href="#backup-restore:cbbackupmgr-encryption.adoc" class="xref unresolved">backup-restore:cbbackupmgr-encryption.adoc</a>.</p>
</dd>
<dt class="hdlist1">[Deprecation Reminder] cbbackup and cbrestore</dt>
<dd>
<p>The cbbackup and cbrestore utilities have been deprecated for the Community Edition (CE) since 7.0, and they will be removed in the future.
(For the Enterprise Edition, cbbackup and cbrestore have been deprecated since 5.0.)
The cbbackupmgr CLI can be used on both CE and EE.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="features-added-in-712"><a class="anchor" href="#features-added-in-712"></a>Features Added in 7.1.2</h3>
<div class="paragraph">
<p>The following features have been added in 7.1.2.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Search, Eventing, and Analytics Services now support the Magma storage engine.
See <a href="../learn/buckets-memory-and-storage/storage-engines.html" class="xref page">Storage Engines</a>.</p>
</li>
<li>
<p>The Search Service now supports a Hebrew analyzer.
See <a href="../fts/fts-index-analyzers.html" class="xref page">Understanding Analyzers</a>.</p>
</li>
<li>
<p>The Analytics Service now supports the Parquet file format, for external datasets.
See <a href="#analytics:manage-datasets.adoc#creating-a-collection-on-an-external-link" class="xref unresolved">Creating a Collection on an External Link</a> and <a href="#analytics/5_ddl.adoc#analytics-collection-specification" class="xref unresolved">Analytics Collection Specification</a>.</p>
</li>
<li>
<p>A REST API is now provided to ensure that only nodes with conformant FQDN and CIDR patterns can be added to the cluster.
See <a href="../rest-api/rest-specify-node-addition-conventions.html" class="xref page">Restrict Node-Addition</a>.</p>
</li>
<li>
<p>A user&#8217;s password can now be changed by means of the REST API without roles needing to be specified.
See <a href="../rest-api/rbac.html#create-a-local-user-and-assign-roles" class="xref page">Create a Local User and Assign Roles</a>.</p>
</li>
<li>
<p>The Search Service now supports higher dimensional spatial structures via GeoJSON, for both query requests and documents.
See <a href="../fts/fts-supported-queries-geospatial.html" class="xref page">Geospatial Queries</a>.</p>
</li>
<li>
<p>The Index Service can now optionally create indexes on missing leading keys.
See <a href="../n1ql/n1ql-language-reference/createindex.html#index-key-attrib" class="xref page">Index Key Attributes</a>.</p>
</li>
<li>
<p>Couchbase Server now provides configurable alerts, to be triggered when memory thresholds are exceeded.
See <a href="../rest-api/rest-cluster-email-notifications.html" class="xref page">Setting Alerts</a>.</p>
</li>
<li>
<p>The Eventing Services now allows multiple collections to be listened to.
See <a href="../eventing/eventing-Terminologies.html#eventing-keyspaces" class="xref page">Eventing Keyspaces</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.1"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
