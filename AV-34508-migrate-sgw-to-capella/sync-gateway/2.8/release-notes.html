<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Release Notes | Couchbase Capella Staging Docs</title>
<link rel="canonical" href="https://docs.stage.nonprod-project-avengers.com/sync-gateway/3.0/release-notes.html">
<link rel="stylesheet" href="../../_/css/site.css">
<script src="../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Couchbase Sync Gateway">
<meta name="keywords" content="edge nosql api synchronization replication">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="sync-gateway">
<meta name="dcterms.identifier" content="2.8">
<meta name="page-url" content="/sync-gateway/2.8/release-notes.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="../..">
                    <img src="../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="../.." class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container Reference">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
<div class="components">
  <div class="components_group-title">
    <a href="../../home/mobile.html">Mobile</a>
  </div>
  <ul class="components_list">
    <li class="components_list-items">
      <div class="component_list-version">
        <span class="component_list_title">Sync Gateway</span>
        <select class="version_list" data-component="sync-gateway">
          <option value="3.0" data-url="../3.0/index.html">3.0</option>
          <option value="2.8" data-url="index.html" selected>2.8</option>
        </select>
      </div>
      <div class="version_items hide" data-version="3.0">
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/introduction.html">Introduction</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/whatsnew.html"><strong><em>New in 3.0</em></strong></a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Start Here!</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/index.html">Quick Links</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/get-started-prepare.html">Prepare</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/get-started-install.html">Install</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/get-started-verify-install.html">Verify</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/data-modeling.html">Data Modeling</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Configuration</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/configuration-overview.html">Overview</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/configuration-schema-bootstrap.html">Bootstrap</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/configuration-schema-database.html">Database</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/configuration-schema-db-security.html">Database Security</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/configuration-schema-access-control.html">Access Control</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/configuration-schema-import-filter.html">Import Filter</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/configuration-schema-isgr.html">Inter-Sync&#160;Gateway Replication</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/configuration-properties-legacy.html">Legacy Pre-3.0 Configuration</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/configuration-javascript-functions.html">Javascript Functions</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/configuration-environment-variables.html">Environment Variables</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Security</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/secure-sgw-access.html">Secure Access</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/authentication-users.html">User Authentication</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/authentication-certs.html">TLS Cert Authentication</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Access Control</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../3.0/access-control-concepts.html">Concepts</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/access-control-model.html">Access Control Model</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/channels.html">Channels</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/roles.html">Roles</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/users.html">Users</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../3.0/sync-function.html">Sync Function</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-function-overview.html">Overview</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../3.0/sync-function-api.html">API Reference</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-function-api-access-cmd.html">access()</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-function-api-channel-cmd.html">channel()</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-function-api-expiry-cmd.html">expiry()</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-function-api-require-access-cmd.html">requireAccess()</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-function-api-require-admin-cmd.html">requireAdmin()</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-function-api-require-role-cmd.html">requireRole()</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-function-api-require-user-cmd.html">requireUser()</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-function-api-role-cmd.html">role()</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-function-api-throw-cmd.html">throw()</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../3.0/access-control-how.html">How-to</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/access-control-how-create-users.html">Create Users</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/access-control-how-create-roles.html">Create Roles</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/access-control-how-assign-users-to-roles.html">Assign User to Role</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/access-control-how-control-document-access.html">Control Document Access</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/access-control-how-verify-access.html">Verify Access</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/access-control-how-use-xattrs-for-access-grants.html">Use XATTRS for Access Grants</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/auto-purge-channel-access-revocation.html">Auto-Purge Channel Access Revocation</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">REST API</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/rest-api-access.html">Secure Access</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/rest-api-admin.html">Admin REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/rest-api-metrics.html">Metrics REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/rest-api.html">Public REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/rest-api-access-rbac-roles.html">RBAC Role - Endpoint Cross-Reference</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Static API Pages</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/rest_api_admin_static.html">Admin REST API (Static Page)</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/rest_api_public_static.html">Public REST API (Static Page)</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/rest_api_metrics_static.html">Metrics REST API (Static Page)</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Sync</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-with-couchbase-server.html">Sync with Server</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-using-app.html">Sync with Application</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Inter-Sync Gateway Replication</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-inter-syncgateway-overview.html">Overview</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-inter-syncgateway-run.html">Initialize</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-inter-syncgateway-manage.html">Manage</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-inter-syncgateway-monitor.html">Monitor</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sync-inter-syncgateway-conflict-resolution.html">Inter Syncgateway Conflict Resolution</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/delta-sync.html">Delta Sync</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/import-filter.html">Import Filter</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Manage</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/revisions.html">Revisions</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/managing-tombstones.html">Tombstones</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/resync.html">Resync</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/stats-monitoring.html">Stats Monitoring</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/database-offline.html">Database Offline</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Logging and Troubleshooting</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/logging.html">Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/sgcollect-info.html">SG Collect Info</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Deploy</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/deployment.html">Overview</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/command-line-options.html">Command Line Options</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/load-balancer.html">Load Balancer</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/os-level-tuning.html">OS Level Tuning</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/webhooks.html">Webhooks</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/changes-feed.html">Changes Feed</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/stats-prometheus.html">Prometheus Feed</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/indexing.html">Indexing</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/setting-up-dr-cluster.html">Disaster Recovery</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/upgrading.html">Upgrade</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Use Kubernetes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/deploy-cluster-to-kubernetes.html">Deploy</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#operator:ROOT:tutorial-sync-gateway-manage.adoc">Manage a Sync Gateway Cluster</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#operator:ROOT:tutorial-sync-gateway-clients.adoc">Expose Sync Gateway to Couchbase Lite clients</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Server Compatibility</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/server-compatibility-collections.html">Collections</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/server-compatibility-eventing.html">Eventing</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/server-compatibility-transactions.html">Transactions</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/server-compatibility-xdcr.html">XDCR</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Product Notes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/release-notes.html">Release Notes</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/supported-environments.html">Supported Environments</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/compatibility.html">Compatibility Matrix</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../3.0/glossary.html">Glossary</a>
  </span>
</li>
</ul>
      </div>
      <div class="version_items hide" data-version="2.8">
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="introduction.html">Introduction</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="index.html">Quick Start</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="whatsnew.html">What&#8217;s new</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Start Here!</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="get-started-prepare.html">Prepare to Install Sync Gateway</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="get-started-install.html">Install</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="get-started-verify-install.html">Verify</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="data-modeling.html">Data Modelling</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="data-modeling.html">Data Modeling</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="users.html">Users</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="roles.html">Roles</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="channels.html">Channels</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="what-are-tombstones.html">Tombstones</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="revisions.html">Revisions</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="configuration-properties.html">Configuration</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">REST API</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="rest-api-access.html">REST API Access</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="rest-api.html">Public REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="rest-api-admin.html">Admin REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="rest-api-metrics.html">Metrics REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#rest-api-client.adoc">REST API Client</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Security</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="authentication-users.html">User Authentication</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="authentication-certs.html">TLS Certificate Authentication</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Access Control</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="sync-function.html">Sync Function</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="read-access.html">Read Access</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="write-access.html">Write Security</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Sync</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="sync-with-couchbase-server.html">Sync with Couchbase Server</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="sync-using-app.html">Sync with Couchbase Lite</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Inter-Sync Gateway Replication</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="sync-inter-syncgateway-overview.html">Overview</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="sync-inter-syncgateway-run.html">Initialize</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="sync-inter-syncgateway-manage.html">Manage</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#sync-inter-syncgateway-monitoring.adoc">Monitor</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="sync-inter-syncgateway-conflict-resolution.html">Conflict Resolution</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="managing-tombstones.html">Managing Tombstones</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="delta-sync.html">Delta Sync</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resync.html">Resync</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="import-filter.html">Import Filter</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Manage</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="stats-monitoring.html">View Statistics and Metrics</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Logging and Troubleshooting</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="logging.html">Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="sgcollect-info.html">SG Collect Info</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="database-offline.html">Take Database Offline/Online</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="deployment.html">Deployment</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="command-line-options.html">Using the Command Line</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="load-balancer.html">Load Balancer</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="os-level-tuning.html">OS-level Tuning</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="webhooks.html">Webhooks</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="server-integration.html">Changes Feed</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="integrating-external-stores.html">External Stores</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="stats-prometheus.html">Prometheus Feed</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="indexing.html">Indexes versus Views</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="setting-up-dr-cluster.html">Setting up Disaster Recovery</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="upgrading.html">Upgrade</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Server Compatibility</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#server:server-compatibility-collections.adoc">Collections</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#server:server-compatibility-eventing.adoc">Eventing</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#server:server-compatibility-transactions.adoc">Transactions</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#server:server-compatibility-xdcr.adoc">XDCR</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Use Kubernetes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#2.0@operator::tutorial-sync-gateway.adoc#deploying-sync-gateway">Deploy</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#2.0@operator::tutorial-sync-gateway-manage.adoc">Manage</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#2.0@operator::tutorial-sync-gateway-clients.adoc">Expose</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Product Notes</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-current-page" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link is-current-page" href="release-notes.html">Release Notes</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="supported-environments.html">Supported Environments</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="compatibility.html">Compatibility</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Legacy Features</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="sync-sgreplicate-resolving-conflicts-legacy.html">Conflict Resolution with 1.x client</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="legacy-sg-replicate.html">SG Replicate</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="legacy-logging-pre2-1.html">Log Rotation [DEPRECATED]</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="glossary.html">Glossary</a>
  </span>
</li>
</ul>
</li>
</ul>
      </div>
    </li>
  </ul>
</div>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="https://github.com/couchbase/docs-sync-gateway/edit/release/2.8/modules/ROOT/pages/release-notes.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-banner">
<i class="fas fa-file-alt"></i> <p>A newer version of this documentation is available.</p>
<a class="btn" href="../3.0/release-notes.html">View Latest</a>
</div>
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="index.html">Sync Gateway</a></li>
<li class="crumb">Product Notes</li>
<li class="crumb"><a href="release-notes.html">Release Notes</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Release Notes</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Unresolved include directive in modules/ROOT/pages/_partials/_std-hdr-sgw.adoc - include::shared-mobile::partial$_attributes-shared.adoc[]</p>
</div>
<div class="paragraph">
<p>Unresolved include directive in modules/ROOT/pages/_partials/_glossary-links.adoc - include::shared-mobile::partial$_attributes-shared.adoc[]</p>
</div>
<div class="dlist Replication Admin">
<dl>
<dt>Release Note from Previous Releases</dt>
<dd>
<p><a href="#2.7@sync-gateway::release-notes.adoc" class="xref unresolved">Release 2.7</a> |
<a href="#2.6@sync-gateway::release-notes.adoc" class="xref unresolved">Release 2.6</a> |
<a href="#2.5@sync-gateway::release-notes.adoc" class="xref unresolved">Release 2.5</a> |
<a href="#2.1@sync-gateway::release-notes.adoc" class="xref unresolved">Release 2.1</a> |
<a href="#2.0@sync-gateway::release-notes.adoc" class="xref unresolved">Release 2.0</a></p>
</dd>
</dl>
</div>
<div class="quoteblock abstract">
<blockquote>
<div class="paragraph">
<p>Couchbase Sync Gateway<br>
This content describes the key features and changes implemented by release 2.8 of Couchbase Sync&#160;Gateway</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-rel283"><a class="anchor" href="#lbl-rel283"></a>Release 2.8.3 (October 2021)</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Users of earlier Sync Gateway releases should plan to upgrade to this release at the earliest opportunity.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="issues-and-resolutions-283"><a class="anchor" href="#issues-and-resolutions-283"></a>Issues and Resolutions</h3>
<div class="sect3">
<h4 id="enhancements"><a class="anchor" href="#enhancements"></a>Enhancements</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1665">CBG-1665</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1665">Limit the number of open N1QL connections</a></p>
</li>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1444">CBG-1444</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1444">- discoverInterfaceName should resolve hostnames before trying to find network interface stats using IP addresses</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="known-issues"><a class="anchor" href="#known-issues"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-798">CBG-798</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com/browse/CBG-798">Sync Gateway requires Couchbase Server nodes to use the same SSL memcached port</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues"><a class="anchor" href="#fixed-issues"></a>Fixed Issues</h4>
<div class="paragraph">
<p></p>
</div>
<div id="tbl-fixed" class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1725">CBG-1725</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1725">ISGR Pull checkpoint sequences unreliable</a></p>
</li>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1724">CBG-1724</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1724">Incorrect email validation (too strict)</a></p>
</li>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1723">CBG-1723</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1723">CBL1.x/Websocket based changes feeds leak goroutine on disconnect</a></p>
</li>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1717">CBG-1717</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1717">norev message sequence has wrong property name</a></p>
</li>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1696">CBG-1696</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1696">Empty query results when using bypass channel cache</a></p>
</li>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1543">CBG-1543</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1543">Metrics API port should not serve public API routes</a></p>
</li>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1454">CBG-1454</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1454">ISGR: filtered push replication replicates channel removal revisions</a></p>
</li>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1451">CBG-1451</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1451">SgwIntStat.SetIfMax incorrectly sums old and new values</a></p>
</li>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1379">CBG-1379</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1379">Retry OIDC client initialization when the provider is not reachable </a></p>
</li>
<li>
<p><a href="https://issues.couchbase.com//browse/CBG-1362">CBG-1362</a>&#8201;&#8212;&#8201;<a href="https://issues.couchbase.com//browse/CBG-1362">Fix cacert-only handling for DCP connection</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-rel282"><a class="anchor" href="#lbl-rel282"></a>Release 2.8.2 (March 2021)</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Users of 2.8.1 should upgrade to this release at the earliest opportunity.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="issues-and-resolutions-282"><a class="anchor" href="#issues-and-resolutions-282"></a>Issues and Resolutions</h3>
<div class="paragraph">
<p>Release 2.8.2 fixes an issue that could result in Sync Gateway entering an infinite loop when creating a mobile tombstone, if a Couchbase Server tombstone already exists for that key.</p>
</div>
<div class="sect3">
<h4 id="known-issues-2"><a class="anchor" href="#known-issues-2"></a>Known Issues</h4>
<div class="paragraph">
<p></p>
</div>
<table id="tbl-known" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">Issue Ref.</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Summary</p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-798">CBG-798</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-798">Sync Gateway requires Couchbase Server nodes to use the same SSL memcached port</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1127">CBG-1127</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1127">Treat resurrected tombstones as non-conflict when no shared history</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="fixed-issues-2"><a class="anchor" href="#fixed-issues-2"></a>Fixed Issues</h4>
<div class="paragraph">
<p></p>
</div>
<table id="tbl-fixed" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">Issue Ref.</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Summary</p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1341">CBG-1341</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1341">Creating mobile tombstone for existing CBS tombstone causes loop</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-rel281"><a class="anchor" href="#lbl-rel281"></a>Release 2.8.1 (February 2021)</h2>
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><a href="#new-features-281">New Features</a> <strong>|</strong> <a href="#improvements-281">Enhancements</a> <strong>|</strong> <a href="#issues-and-resolutions-281">Issues and Resolutions</a></p>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Release 2.8.1 has now been superseded by <a href="#lbl-rel282">Release 2.8.2 (March 2021)</a>.
Users of 2.8.1 should upgrade to 2.8.2 as soon as practicable.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="new-features-281"><a class="anchor" href="#new-features-281"></a>New Features</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Metrics REST API</dt>
<dd>
<p>Release 2.8.1 sees the transition to general availability of Couchbase Sync Gateway&#8217;s Metrics REST API, which was introduced as a <em>developer preview</em> in release 2.8.0.</p>
<div class="paragraph">
<p>This feature exposes Sync Gateway&#8217;s extensive stats in both JSON and Prometheus-compatible format.
For more on how to enable the integration of Sync Gateway&#8217;s metrics with one of the most popular monitoring and alerting solutions&#8201;&#8212;&#8201;see: <a href="../3.0/stats-prometheus.html" class="xref page">Prometheus Integration</a> and <a href="../3.0/rest-api-metrics.html" class="xref page">Metrics REST API</a>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="improvements-281"><a class="anchor" href="#improvements-281"></a>Enhancements</h3>
<div class="sect3">
<h4 id="configuration-changes"><a class="anchor" href="#configuration-changes"></a>Configuration Changes</h4>
<div class="sect4">
<h5 id="custom-response-headers"><a class="anchor" href="#custom-response-headers"></a>Custom Response Headers</h5>
<div class="paragraph">
<p>It is now possible to remove product versions from Sync Gateway responses using the <code>hide_product_versions</code> setting in the Config file.
This customization of responses avoids revealing the version of the Sync Gateway to HTTP requests to the root path&#8201;&#8212;&#8201;see: <a href="#{sgw-pg-config-properties}.adoc#hide_product_version" class="xref unresolved">Hide Product Version in Headers</a> and <a href="https://issues.couchbase.com/browse/CBG-1235" target="_blank" rel="noopener">CBG-1235</a></p>
</div>
</div>
<div class="sect4">
<h5 id="connection-string-overrides"><a class="anchor" href="#connection-string-overrides"></a>Connection String Overrides</h5>
<div class="paragraph">
<p>It is now possible to use the server connection string to override the current heuristic-driven behavior for selecting internal/external networking matches&#8201;&#8212;&#8201;see: <a href="#{sgw-pg-config-properties}.adoc#databases-this_db-server" class="xref unresolved">Couchbase Server Connection String</a> and <a href="https://issues.couchbase.com/browse/CBG-1276" target="_blank" rel="noopener">CBG-1276</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="other-enhancements"><a class="anchor" href="#other-enhancements"></a>Other Enhancements</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1152">CBG-1152</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1152">2.8.1 Backport&#8201;&#8212;&#8201; Additional logging context for SGR2 checkpointing</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1235">CBG-1235</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1235">2.8.x Backport&#8201;&#8212;&#8201;Customizable HTTP response to ""/"" (suppress headers)"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1254">CBG-1254</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1254">2.8.1 Backport&#8201;&#8212;&#8201; CBG-1244 - Add a new rev option for document_changed event handler</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1267">CBG-1267</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1267">2.8.1 Backport&#8201;&#8212;&#8201; CBG-1151  - Exit early from DocChange after running callback for _sync:cfg docs</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1270">CBG-1270</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1270">2.8.1 Backport&#8201;&#8212;&#8201; CBG-1253 - Add USE INDEX to index readiness queries</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1274">CBG-1274</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1274">2.8.1-backport&#8201;&#8212;&#8201; Add Prometheus alert examples</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1276">CBG-1276</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1276">Implement network connstr flag for cbdatasource alt address shims</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="issues-and-resolutions-281"><a class="anchor" href="#issues-and-resolutions-281"></a>Issues and Resolutions</h3>
<div class="sect3">
<h4 id="known-issues-3"><a class="anchor" href="#known-issues-3"></a>Known Issues</h4>
<div class="paragraph">
<p></p>
</div>
<table id="tbl-known" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">Issue Ref.</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Summary</p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-798">CBG-798</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-798">Sync Gateway requires Couchbase Server nodes to use the same SSL memcached port</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1127">CBG-1127</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1127">Treat resurrected tombstones as non-conflict when no shared history</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="fixed-issues-3"><a class="anchor" href="#fixed-issues-3"></a>Fixed Issues</h4>
<div class="paragraph">
<p></p>
</div>
<table id="tbl-fixed" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">Issue Ref.</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Summary</p></th>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1203">CBG-1203</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1203">2.8.1 Backport CBG-1194 - sgcollect_info not collecting system information</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1234">CBG-1234</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1234">2.8.1 Backport&#8201;&#8212;&#8201; CBG-1231 - Prevent import cfg startup races</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1252">CBG-1252</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1252">2.8.1 Backport&#8201;&#8212;&#8201; CBG-1246 - Changes limit incorrectly applied in case of CBG-946</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1263">CBG-1263</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1263">2.8.1 Backport CBG-1222 - Pre-2.8 cbgt index definitions not being removed post-upgrade</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1265">CBG-1265</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1265">2.8.1 Backport&#8201;&#8212;&#8201; CBG-1163 - Missing document in changes feed when using a compound sequence number as since parameter</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1311">CBG-1311</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://issues.couchbase.com/browse/CBG-1311">2.8.1 Backport ISGR: Pull replications incompatible with active-side allow_conflicts=false</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-rel280"><a class="anchor" href="#lbl-rel280"></a>Release 2.8.0 (October 2020)</h2>
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><a href="#new-features-280">New Features</a> <strong>|</strong> <a href="#improvements-280">Enhancements</a> <strong>|</strong> <a href="#issues-and-resolutions-280">Issues and Resolutions</a> <strong>|</strong> <a href="#support-notices-280">Support Notices</a> <strong>|</strong> <a href="#related-content">Related Content</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="new-features-280"><a class="anchor" href="#new-features-280"></a>New Features</h3>
<div class="sect3">
<h4 id="inter-syncgateway-replication"><a class="anchor" href="#inter-syncgateway-replication"></a>Inter-Sync&#160;Gateway Replication</h4>
<div class="paragraph">
<p>Couchbase Sync Gateway&#8217;s <em><a href="glossary.html#inter-sync-gateway-replication" class="xref page">Inter-Sync Gateway Replication<span class="image"><img src="_images/icons/glossaryIconImage2.png" alt="glossary icon" width="14"></span></a></em> feature supports <em><a href="glossary.html#cloud-to-edge" class="xref page">cloud-to-edge<span class="image"><img src="_images/icons/glossaryIconImage2.png" alt="glossary icon" width="14"></span></a> synchronization</em> use cases, where data changes must be synchronized between a centralized cloud cluster and a large number of edge clusters whilst still enforcing fine grained access control.
This is an increasingly important enterprise-level requirement.</p>
</div>
<div class="paragraph">
<p>Read More . . . <a href="../3.0/sync-inter-syncgateway-overview.html" class="xref page">Inter-Sync Gateway Replication</a></p>
</div>
</div>
<div class="sect3">
<h4 id="prometheus-monitoring-support-developer-preview"><a class="anchor" href="#prometheus-monitoring-support-developer-preview"></a>Prometheus Monitoring Support (Developer Preview)</h4>
<div class="paragraph">
<p>This release gives developers the chance to try-out Couchbase Sync Gateway&#8217;s new metrics API, which exposes stats in a Prometheus compatible format.
This enables the integration of Sync Gateway&#8217;s metrics with one of the most popular monitoring and alerting solutions, without resorting to external data transformation.</p>
</div>
<div class="paragraph">
<p>Read More . . . <a href="../3.0/rest-api-metrics.html" class="xref page">Metrics REST API</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="improvements-280"><a class="anchor" href="#improvements-280"></a>Enhancements</h3>
<div class="sect3">
<h4 id="configuration-changes-2"><a class="anchor" href="#configuration-changes-2"></a>Configuration Changes</h4>
<div class="paragraph">
<p>Sync Gateway 2.8 introduces a number of configuration file changes made to accommodate the Inter-sync-gateway replication feature.</p>
</div>
<div class="paragraph">
<div class="title">Replication</div>
<p>The database property has a new sub-property <code>replications</code>, which is used to associate an inter-Sync Gateway replication with a 'local' database.</p>
</div>
<div class="paragraph">
<p>The top level <code>replications</code> configuration property and its sub-properties is deprecated. Instead, use the <code>database.replication</code> property (as above) to define replications, unless you specifically need to use the pre-2.8 version with SG&#160;Replicate.</p>
</div>
<div class="paragraph">
<p>Note that any given database can still have multiple replications configured.
Also, that inter-Sync Gateway replication does not support replication between two remote hosts via a third Sync Gateway; at least one database must be local.</p>
</div>
<div class="paragraph">
<p>See: <a href="../3.0/configuration-properties-legacy.html" class="xref page">Configuration Properties</a></p>
</div>
</div>
<div class="sect3">
<h4 id="api-changes"><a class="anchor" href="#api-changes"></a>API Changes</h4>
<div class="paragraph">
<p>This release introduces two new endpoints to the Admin Rest API.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>_replication</code> - used to initialize Inter-Sync Gateway Replication</p>
</li>
<li>
<p><code>_replicationStatus</code> - used to set or query the status of a replication</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>_replicate</code> and <code>_active_tasks</code> endpoints are both deprecated, as they are replaced by the above.</p>
</div>
<div class="paragraph">
<p>See: <a href="../3.0/rest-api-admin.html" class="xref page">Admin REST API</a></p>
</div>
</div>
<div class="sect3">
<h4 id="other-enhancements-2"><a class="anchor" href="#other-enhancements-2"></a>Other Enhancements</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-1022">CBG-1022</a>&#8201;&#8212;&#8201;Require replication to be stopped prior to upsert</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-921">CBG-921</a>&#8201;&#8212;&#8201;Ignore transaction ATR documents during DCP processing</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-905">CBG-905</a>&#8201;&#8212;&#8201;Support using custom OIDC claim as Sync Gateway username</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-880">CBG-880</a>&#8201;&#8212;&#8201;Python 3 support for sgcollect</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-877">CBG-877</a>&#8201;&#8212;&#8201;Remove inappropriate logging warning related JSON parsing from ReadJSONFromMIME when request body is empty</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-876">CBG-876</a>&#8201;&#8212;&#8201;Include Bearer prefix when sending token base authentication request in OIDC E2E tests</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-864">CBG-864</a>&#8201;&#8212;&#8201;Improve addJSON-related error handling</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-821">CBG-821</a>&#8201;&#8212;&#8201;Limit on channel queries triggered by 2.x replication</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-820">CBG-820</a>&#8201;&#8212;&#8201;Add state for OIDC auth code authentication</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-803">CBG-803</a>&#8201;&#8212;&#8201;Support for OIDC provider config refresh</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-802">CBG-802</a>&#8201;&#8212;&#8201;Being able to configure OIDC Test Provider with HTTPS</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-801">CBG-801</a>&#8201;&#8212;&#8201;Auto-generated OIDC callback URL should include provider when non-default</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-800">CBG-800</a>&#8201;&#8212;&#8201;OnDemandImportForWrite bypasses migrate handling</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-752">CBG-752</a>&#8201;&#8212;&#8201;sgcollect: Re-gzip rotated logfiles post-redaction, clean up intermediate extracted files</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-751">CBG-751</a>&#8201;&#8212;&#8201;Improve REST-based sgcollect_info options validation</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-719">CBG-719</a>&#8201;&#8212;&#8201;Update OIDC library</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-714">CBG-714</a>&#8201;&#8212;&#8201;Log warning on ignored, invalid channel data</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-709">CBG-709</a>&#8201;&#8212;&#8201;Inter-Sync Gateway Replication</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-697">CBG-697</a>&#8201;&#8212;&#8201;SGW startup routine could use more retry logic while CBS warms up</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-688">CBG-688</a>&#8201;&#8212;&#8201;Improve logging for x.509 connection errors</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-673">CBG-673</a>&#8201;&#8212;&#8201;Include USE INDEX hint with channel queries</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-665">CBG-665</a>&#8201;&#8212;&#8201;Make trace level logging a typical file logger</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-664">CBG-664</a>&#8201;&#8212;&#8201;Enhance trace logging for blip messages</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-658">CBG-658</a>&#8201;&#8212;&#8201;Optimize LogKey string lookup</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-653">CBG-653</a>&#8201;&#8212;&#8201;Add 'norev' BLIP handler to log detailed error information</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-640">CBG-640</a>&#8201;&#8212;&#8201;Wrong content type for _user and _role</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-633">CBG-633</a>&#8201;&#8212;&#8201;Clean up duplicate db definitions in blipHandler/blipSyncContext</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-630">CBG-630</a>&#8201;&#8212;&#8201;Validate whether multiple databases connect to the same bucket</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-624">CBG-624</a>&#8201;&#8212;&#8201;Add database config option for HttpOnly cookies</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-622">CBG-622</a>&#8201;&#8212;&#8201;Use secure cookies when SG is configured to listen over TLS</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-600">CBG-600</a>&#8201;&#8212;&#8201;sgcollect_info TMPDIR setting should be a real argument</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-585">CBG-585</a>&#8201;&#8212;&#8201;Avoid log redaction cost via UD/MD/SD when log-level disabled</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-581">CBG-581</a>&#8201;&#8212;&#8201;Write simple JSON HTTP responses directly as raw bytes</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-437">CBG-437</a>&#8201;&#8212;&#8201;Return error when receiving deltas for deltaSrc revisions which are tombstoned</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="issues-and-resolutions-280"><a class="anchor" href="#issues-and-resolutions-280"></a>Issues and Resolutions</h3>
<div class="sect3">
<h4 id="known-issues-4"><a class="anchor" href="#known-issues-4"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-1127">CBG-1127</a>&#8201;&#8212;&#8201;	Treat resurrected tombstones as non-conflict when no shared history</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-798">CBG-798</a>&#8201;&#8212;&#8201;Sync Gateway requires Couchbase Server nodes to use the same SSL memcached port</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-4"><a class="anchor" href="#fixed-issues-4"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-1072">CBG-1072</a>&#8201;&#8212;&#8201;CAS race can result in unordered recentSequences</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-983">CBG-983</a>&#8201;&#8212;&#8201;_all_docs with keys parameter not returning revID</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-951">CBG-951</a>&#8201;&#8212;&#8201;Deleted documents should set _deleted:true for import filter function</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-946">CBG-946</a>&#8201;&#8212;&#8201;Repeated change entries on access grant to doc&#8217;s previous channel</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-926">CBG-926</a>&#8201;&#8212;&#8201;User name not being logged for initial HTTP request</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-819">CBG-819</a>&#8201;&#8212;&#8201;Generate empty delta as {} instead of null</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-812">CBG-812</a>&#8201;&#8212;&#8201;Running compact when UseViews=true causes an infinite loop</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-744">CBG-744</a>&#8201;&#8212;&#8201;OldDoc body in sync function for tombstone resurrections does not contain _deleted=true</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-743">CBG-743</a>&#8201;&#8212;&#8201;Doc body in sync function contains _deleted=false</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-741">CBG-741</a>&#8201;&#8212;&#8201;403 Attachment&#8217;s doc not being synced during CBL replication</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-731">CBG-731</a>&#8201;&#8212;&#8201;Channels query performance degradation when using limit</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-727">CBG-727</a>&#8201;&#8212;&#8201;Panic when connecting to non-standard memcached port using couchbase(s):// scheme</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-695">CBG-695</a>&#8201;&#8212;&#8201;Alternate addresses are always used if defined instead of applying heuristic</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/CBG-661">CBG-661</a>&#8201;&#8212;&#8201;Errors from REST API produce invalid JSON</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="support-notices-280"><a class="anchor" href="#support-notices-280"></a>Support Notices</h3>
<div class="paragraph">
<p>This section documents any support-related notes, constraints and changes</p>
</div>
<div class="sect3">
<h4 id="deprecation-notices"><a class="anchor" href="#deprecation-notices"></a>Deprecation Notices</h4>
<div class="paragraph">
<p>Items (features and-or functionality) are marked as deprecated when a more current, and usually enhanced, alternative is available.</p>
</div>
<div class="paragraph">
<p>Whilst the deprecated item will remain usable, it is no longer supported, and will be removed in a future release.
You should plan to move to an alternative, supported, solution as soon as practical.</p>
</div>
<div class="sect4">
<h5 id="sgreplicate-replication-protocol"><a class="anchor" href="#sgreplicate-replication-protocol"></a>SG&#160;Replicate replication protocol</h5>
<div class="paragraph">
<p>SG&#160;Replicate is deprecated in Sync Gateway version 2.8.
You should plan your transition to inter-Sync Gateway replication now to avoid potential issues when this functionality is removed&#8201;&#8212;&#8201;see <a href="https://issues.couchbase.com/browse/CBG-904?src=confmacro">CBG-904</a></p>
</div>
<div class="paragraph">
<p>The functionality of SG&#160;Replicate remains unchanged, unless explicitly stated in these release notes and-or in the appropriate documentation section.
Refer to <a href="../3.0/upgrading.html" class="xref page">Upgrade Sync Gateway</a> for more information on upgrading from SG Replicate to Inter-Sync Gateway replication.</p>
</div>
</div>
<div class="sect4">
<h5 id="configuration-deprecations"><a class="anchor" href="#configuration-deprecations"></a>Configuration deprecations</h5>
<div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/CBG-904">CBG-904</a>&#8201;&#8212;&#8201;The SG Replicate configuration method is deprecated at version 2.8.</p>
</div>
<div class="paragraph">
<p>Replications configured at the configuration file&#8217;s root level will continue to function, but you should configure new replications under the appropriate database using the <code>databases.{dbname}.replications.{replication_id}</code> property.</p>
</div>
</div>
<div class="sect4">
<h5 id="rest-api-deprecations"><a class="anchor" href="#rest-api-deprecations"></a>REST API Deprecations</h5>
<div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/CBG-904">CBG-904</a> These SG Replicate REST endpoints are deprecated:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>_active_tasks</code>&#8201;&#8212;&#8201;superseded by new monitoring endpoint</p>
</li>
<li>
<p><code>_replicate</code>&#8201;&#8212;&#8201;superseded by the <code>_replication</code> endpoint</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="operating-systems"><a class="anchor" href="#operating-systems"></a>Operating Systems</h5>
<div class="paragraph">
<p>Support for Microsoft Windows 2012 (64-bit) is deprecated</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="other-notices"><a class="anchor" href="#other-notices"></a>Other Notices</h4>
<div class="sect4">
<h5 id="minimum-version-for-inter-sync-gateway-replication"><a class="anchor" href="#minimum-version-for-inter-sync-gateway-replication"></a>Minimum Version for Inter-Sync Gateway Replication</h5>
<div class="paragraph">
<p>In order to support inter-Sync Gateway replication&#8217;s new features (2.8), all nodes in the active cluster must be running Sync Gateway 2.8+.</p>
</div>
</div>
<div class="sect4">
<h5 id="replication-between-two-remote-databases"><a class="anchor" href="#replication-between-two-remote-databases"></a>Replication between two remote databases</h5>
<div class="paragraph">
<p>Replication between two remote databases is no longer supported.
However, root level replications (which by definition, use SG&#160;Replicate) will continue to support remote replications, albeit in the now deprecated feature.</p>
</div>
</div>
<div class="sect4">
<h5 id="pushing-to-pre-2-8-targets"><a class="anchor" href="#pushing-to-pre-2-8-targets"></a>Pushing to pre-2.8 targets</h5>
<div class="ulist">
<ul>
<li>
<p>Push replications do not support a pre-2.8 target with <code>"allow_conflicts": false</code> set; the target must use <code>"allow_conflicts": true</code> for a replication to work.</p>
</li>
<li>
<p>Push replications do not use Delta Sync when pushing to a pre-2.8 target</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="support-is-added-for"><a class="anchor" href="#support-is-added-for"></a>Support is added for:</h5>
<div class="ulist">
<ul>
<li>
<p>Red Hat Enterprise Linux 8</p>
</li>
<li>
<p>CentOS 8</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="upgrading"><a class="anchor" href="#upgrading"></a>Upgrading</h3>
<div class="paragraph">
<p>In order to support inter-Sync Gateway replication&#8217;s new features (2.8), all nodes in the active cluster must be running Sync Gateway 2.8+.</p>
</div>
<div class="paragraph">
<p>The version of inter-Sync&#160;Gateway replication useable depends on the combination of Sync Gateway versions running on the active and passive nodes&#8201;&#8212;&#8201;see: <a href="#availability-of-sg-replicate-versions">Example 1</a>.</p>
</div>
<div id="availability-of-sg-replicate-versions" class="exampleblock">
<div class="title">Example 1. Availability of Inter-Sync Gateway replication versions</div>
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Available for use on an active node</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pre-Sync Gateway 2.8&#8201;&#8212;&#8201;only SG&#160;Replicate is available</p>
</li>
<li>
<p>Sync Gateway 2.8+&#8201;&#8212;&#8201;you may run inter-Sync Gateway (2.8+), or the pre-2.8 SG&#160;Replicate (deprecated)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">SG versions compatible as a passive node</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Pre-2.8 (SG&#160;Replicate) can target any inter-Sync Gateway replication version</p>
</li>
<li>
<p>2.8+ inter-Sync Gateway replications can only target other inter-Sync Gateway replications</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>For more on upgrading&#8201;&#8212;&#8201;see: <a href="../3.0/upgrading.html" class="xref page">Upgrade Sync Gateway</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="related-content"><a class="anchor" href="#related-content"></a>Related Content</h2>
<div class="sectionbody">
<div class="card-row three-column-row">
<div class="sect5 column">
<h6 id=""><a class="anchor" href="#"></a></h6>
<div class="ulist">
<div class="title">API Topics</div>
<ul>
<li>
<p><a href="../3.0/rest-api.html" class="xref page">Public REST API</a></p>
</li>
<li>
<p><a href="../3.0/rest-api-admin.html" class="xref page">Admin REST API</a></p>
</li>
<li>
<p><a href="../3.0/rest-api-metrics.html" class="xref page">Metrics REST API</a></p>
</li>
<li>
<p><a href="#sync-gateway::rest-api-client-app.adoc" class="xref unresolved">Use the REST API?</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5 column">
<h6 id="-2"><a class="anchor" href="#-2"></a></h6>
<div class="ulist">
<div class="title">Reference</div>
<ul>
<li>
<p><a href="../3.0/configuration-properties-legacy.html" class="xref page">Configuration Properties</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5 column">
<h6 id="-3"><a class="anchor" href="#-3"></a></h6>
<div class="ulist">
<div class="title">Community</div>
<ul>
<li>
<p>{xref-url-cb-forum-mobile}  <strong>|</strong>  {xref-url-cb-blog}   <strong>|</strong>  <a href="https://docs.couchbase.com/tutorials/index.html">Tutorials</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2022 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../_/js/site.js"></script>
<script defer src="../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
</body>
</html>
